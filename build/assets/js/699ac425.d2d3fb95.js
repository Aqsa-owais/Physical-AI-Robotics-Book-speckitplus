"use strict";(globalThis.webpackChunkphysical_ai_robotics_book=globalThis.webpackChunkphysical_ai_robotics_book||[]).push([[12],{1836:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>c,default:()=>h,frontMatter:()=>o,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"module-1-ros/concepts","title":"ROS 2 Concepts: Nodes, Topics, Services, and Actions","description":"Introduction","source":"@site/docs/module-1-ros/concepts.md","sourceDirName":"module-1-ros","slug":"/module-1-ros/concepts","permalink":"/giaic-hackathon-speckit-plus/docs/module-1-ros/concepts","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/module-1-ros/concepts.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"Module 1: The Robotic Nervous System (ROS 2)","permalink":"/giaic-hackathon-speckit-plus/docs/module-1-ros/"},"next":{"title":"Python-based ROS 2 Development using rclpy","permalink":"/giaic-hackathon-speckit-plus/docs/module-1-ros/python-ros"}}');var t=i(4848),r=i(8453);const o={sidebar_position:3},c="ROS 2 Concepts: Nodes, Topics, Services, and Actions",a={},l=[{value:"Introduction",id:"introduction",level:2},{value:"Nodes",id:"nodes",level:2},{value:"Definition",id:"definition",level:3},{value:"Key Characteristics",id:"key-characteristics",level:3},{value:"Example Use Cases",id:"example-use-cases",level:3},{value:"Implementation in Python",id:"implementation-in-python",level:3},{value:"Topics",id:"topics",level:2},{value:"Definition",id:"definition-1",level:3},{value:"Key Characteristics",id:"key-characteristics-1",level:3},{value:"Example Use Cases",id:"example-use-cases-1",level:3},{value:"Implementation in Python",id:"implementation-in-python-1",level:3},{value:"Services",id:"services",level:2},{value:"Definition",id:"definition-2",level:3},{value:"Key Characteristics",id:"key-characteristics-2",level:3},{value:"Example Use Cases",id:"example-use-cases-2",level:3},{value:"Implementation in Python",id:"implementation-in-python-2",level:3},{value:"Actions",id:"actions",level:2},{value:"Definition",id:"definition-3",level:3},{value:"Key Characteristics",id:"key-characteristics-3",level:3},{value:"Example Use Cases",id:"example-use-cases-3",level:3},{value:"Implementation in Python",id:"implementation-in-python-3",level:3},{value:"Communication Patterns Comparison",id:"communication-patterns-comparison",level:2},{value:"Best Practices",id:"best-practices",level:2},{value:"Node Design",id:"node-design",level:3},{value:"Topic Usage",id:"topic-usage",level:3},{value:"Service Design",id:"service-design",level:3},{value:"Action Implementation",id:"action-implementation",level:3},{value:"Summary",id:"summary",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"ros-2-concepts-nodes-topics-services-and-actions",children:"ROS 2 Concepts: Nodes, Topics, Services, and Actions"})}),"\n",(0,t.jsx)(n.h2,{id:"introduction",children:"Introduction"}),"\n",(0,t.jsx)(n.p,{children:"ROS 2 (Robot Operating System 2) provides a flexible framework for writing robotic software. At its core, ROS 2 is designed to facilitate communication between different software components, called nodes, that run on potentially different machines. Understanding the fundamental communication patterns is essential for building effective robotic systems."}),"\n",(0,t.jsx)(n.h2,{id:"nodes",children:"Nodes"}),"\n",(0,t.jsx)(n.h3,{id:"definition",children:"Definition"}),"\n",(0,t.jsx)(n.p,{children:"A node is an executable that uses ROS 2 to communicate with other nodes. Nodes are the fundamental building blocks of ROS 2 applications. Each node typically performs a specific task or function within the larger robotic system."}),"\n",(0,t.jsx)(n.h3,{id:"key-characteristics",children:"Key Characteristics"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Modularity"}),": Each node performs a specific function, making the system modular and maintainable"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Distributed"}),": Nodes can run on different machines but communicate seamlessly"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Lifecycle"}),": Nodes can be started, stopped, and managed independently"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Parameters"}),": Nodes can accept configuration parameters at runtime"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"example-use-cases",children:"Example Use Cases"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Sensor driver nodes that publish sensor data"}),"\n",(0,t.jsx)(n.li,{children:"Control nodes that send commands to actuators"}),"\n",(0,t.jsx)(n.li,{children:"Perception nodes that process sensor data"}),"\n",(0,t.jsx)(n.li,{children:"Planning nodes that generate robot trajectories"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"implementation-in-python",children:"Implementation in Python"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"import rclpy\nfrom rclpy.node import Node\n\nclass MyNode(Node):\n    def __init__(self):\n        super().__init__('my_node_name')\n        # Node initialization code here\n"})}),"\n",(0,t.jsx)(n.h2,{id:"topics",children:"Topics"}),"\n",(0,t.jsx)(n.h3,{id:"definition-1",children:"Definition"}),"\n",(0,t.jsx)(n.p,{children:"Topics are named buses over which nodes exchange messages. Topics implement a publish-subscribe communication pattern where publishers send messages to a topic and subscribers receive messages from a topic."}),"\n",(0,t.jsx)(n.h3,{id:"key-characteristics-1",children:"Key Characteristics"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Asynchronous"}),": Publishers and subscribers don't need to be synchronized"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Many-to-many"}),": Multiple publishers can publish to the same topic; multiple subscribers can subscribe to the same topic"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Typed"}),": Each topic has a specific message type that defines the structure of the data"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Unidirectional"}),": Data flows in one direction from publisher to subscriber"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"example-use-cases-1",children:"Example Use Cases"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Sensor data streams (camera images, LiDAR scans, IMU readings)"}),"\n",(0,t.jsx)(n.li,{children:"Robot state information (joint positions, odometry)"}),"\n",(0,t.jsx)(n.li,{children:"Control commands (velocity commands, position targets)"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"implementation-in-python-1",children:"Implementation in Python"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"# Publisher\npublisher = self.create_publisher(String, 'topic_name', 10)\n\n# Subscriber\nsubscription = self.create_subscription(\n    String,\n    'topic_name',\n    self.listener_callback,\n    10)\n\ndef listener_callback(self, msg):\n    self.get_logger().info('I heard: \"%s\"' % msg.data)\n"})}),"\n",(0,t.jsx)(n.h2,{id:"services",children:"Services"}),"\n",(0,t.jsx)(n.h3,{id:"definition-2",children:"Definition"}),"\n",(0,t.jsx)(n.p,{children:"Services provide a request-response communication pattern where a client sends a request to a server and waits for a response. Services are synchronous and blocking by default."}),"\n",(0,t.jsx)(n.h3,{id:"key-characteristics-2",children:"Key Characteristics"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Synchronous"}),": Client waits for the server to respond"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Request-Response"}),": One request generates one response"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Bidirectional"}),": Data flows in both directions (request and response)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"One-to-one"}),": One client communicates with one server at a time"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"example-use-cases-2",children:"Example Use Cases"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Saving robot configurations"}),"\n",(0,t.jsx)(n.li,{children:"Triggering specific robot behaviors"}),"\n",(0,t.jsx)(n.li,{children:"Requesting robot status information"}),"\n",(0,t.jsx)(n.li,{children:"Calibration procedures"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"implementation-in-python-2",children:"Implementation in Python"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"# Service server\nservice = self.create_service(AddTwoInts, 'add_two_ints', self.add_two_ints_callback)\n\ndef add_two_ints_callback(self, request, response):\n    response.sum = request.a + request.b\n    self.get_logger().info('Incoming request\\na: %d b: %d' % (request.a, request.b))\n    return response\n\n# Service client\nclient = self.create_client(AddTwoInts, 'add_two_ints')\n"})}),"\n",(0,t.jsx)(n.h2,{id:"actions",children:"Actions"}),"\n",(0,t.jsx)(n.h3,{id:"definition-3",children:"Definition"}),"\n",(0,t.jsx)(n.p,{children:"Actions provide a goal-based communication pattern for long-running tasks. They combine the benefits of both topics and services, allowing for feedback during execution and the ability to cancel ongoing tasks."}),"\n",(0,t.jsx)(n.h3,{id:"key-characteristics-3",children:"Key Characteristics"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Goal-Oriented"}),": Designed for tasks that take a significant amount of time"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Feedback"}),": Provides ongoing feedback about task progress"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Cancelation"}),": Clients can cancel goals in progress"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Result"}),": Returns a final result when the task is completed"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"example-use-cases-3",children:"Example Use Cases"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Navigation tasks (moving to a specific location)"}),"\n",(0,t.jsx)(n.li,{children:"Manipulation tasks (grasping objects)"}),"\n",(0,t.jsx)(n.li,{children:"Calibration procedures"}),"\n",(0,t.jsx)(n.li,{children:"Data collection tasks"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"implementation-in-python-3",children:"Implementation in Python"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"# Action server\nself._action_server = ActionServer(\n    self,\n    Fibonacci,\n    'fibonacci',\n    self.execute_callback)\n\ndef execute_callback(self, goal_handle):\n    feedback_msg = Fibonacci.Feedback()\n    feedback_msg.sequence = [0, 1]\n\n    for i in range(1, goal_handle.request.order):\n        # Check if there is a cancel request\n        if goal_handle.is_cancel_requested:\n            goal_handle.canceled()\n            self.get_logger().info('Goal canceled')\n            return Fibonacci.Result()\n\n        feedback_msg.sequence.append(\n            feedback_msg.sequence[i] + feedback_msg.sequence[i-1])\n\n        goal_handle.publish_feedback(feedback_msg)\n        time.sleep(1)\n\n    goal_handle.succeed()\n    result = Fibonacci.Result()\n    result.sequence = feedback_msg.sequence\n    return result\n\n# Action client\nself._action_client = ActionClient(self, Fibonacci, 'fibonacci')\n"})}),"\n",(0,t.jsx)(n.h2,{id:"communication-patterns-comparison",children:"Communication Patterns Comparison"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Pattern"}),(0,t.jsx)(n.th,{children:"Type"}),(0,t.jsx)(n.th,{children:"Synchronization"}),(0,t.jsx)(n.th,{children:"Use Case"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Topics"}),(0,t.jsx)(n.td,{children:"Publish-Subscribe"}),(0,t.jsx)(n.td,{children:"Asynchronous"}),(0,t.jsx)(n.td,{children:"Continuous data streams"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Services"}),(0,t.jsx)(n.td,{children:"Request-Response"}),(0,t.jsx)(n.td,{children:"Synchronous"}),(0,t.jsx)(n.td,{children:"Single request/response"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Actions"}),(0,t.jsx)(n.td,{children:"Goal-Based"}),(0,t.jsx)(n.td,{children:"Synchronous with feedback"}),(0,t.jsx)(n.td,{children:"Long-running tasks"})]})]})]}),"\n",(0,t.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,t.jsx)(n.h3,{id:"node-design",children:"Node Design"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Keep nodes focused on a single responsibility"}),"\n",(0,t.jsx)(n.li,{children:"Use descriptive names for nodes"}),"\n",(0,t.jsx)(n.li,{children:"Implement proper error handling and logging"}),"\n",(0,t.jsx)(n.li,{children:"Design nodes to be configurable through parameters"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"topic-usage",children:"Topic Usage"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Use appropriate message types for your data"}),"\n",(0,t.jsx)(n.li,{children:"Consider the frequency of message publishing"}),"\n",(0,t.jsx)(n.li,{children:"Use quality of service (QoS) settings appropriately"}),"\n",(0,t.jsx)(n.li,{children:"Follow naming conventions (lowercase with underscores)"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"service-design",children:"Service Design"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Use services for tasks that have a clear start and end"}),"\n",(0,t.jsx)(n.li,{children:"Consider the blocking nature when designing your system"}),"\n",(0,t.jsx)(n.li,{children:"Implement timeouts to prevent indefinite waiting"}),"\n",(0,t.jsx)(n.li,{children:"Use appropriate service types for your needs"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"action-implementation",children:"Action Implementation"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Use actions for tasks that take more than a few seconds"}),"\n",(0,t.jsx)(n.li,{children:"Provide meaningful feedback during execution"}),"\n",(0,t.jsx)(n.li,{children:"Handle cancelation requests appropriately"}),"\n",(0,t.jsx)(n.li,{children:"Return comprehensive results when tasks complete"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"summary",children:"Summary"}),"\n",(0,t.jsx)(n.p,{children:"Understanding these fundamental ROS 2 communication patterns is crucial for building effective robotic systems. Each pattern serves different purposes and choosing the right one for your use case is key to creating robust and maintainable robotic applications. In the next section, we'll explore how to implement these concepts using Python and the rclpy library."})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>o,x:()=>c});var s=i(6540);const t={},r=s.createContext(t);function o(e){const n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);