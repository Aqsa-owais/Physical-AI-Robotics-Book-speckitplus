"use strict";(globalThis.webpackChunkphysical_ai_robotics_book=globalThis.webpackChunkphysical_ai_robotics_book||[]).push([[140],{1760:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>l,contentTitle:()=>a,default:()=>d,frontMatter:()=>r,metadata:()=>o,toc:()=>c});const o=JSON.parse('{"id":"module-2-digital-twin/environments","title":"Digital Twin Environments: Gazebo Usage and Best Practices","description":"Introduction","source":"@site/docs/module-2-digital-twin/environments.md","sourceDirName":"module-2-digital-twin","slug":"/module-2-digital-twin/environments","permalink":"/giaic-hackathon-speckit-plus/docs/module-2-digital-twin/environments","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/module-2-digital-twin/environments.md","tags":[],"version":"current","sidebarPosition":6,"frontMatter":{"sidebar_position":6},"sidebar":"tutorialSidebar","previous":{"title":"Sensor Simulation: Cameras, LiDAR, IMUs","permalink":"/giaic-hackathon-speckit-plus/docs/module-2-digital-twin/sensor-simulation"},"next":{"title":"Human-Robot Interaction in Simulation","permalink":"/giaic-hackathon-speckit-plus/docs/module-2-digital-twin/human-robot-interaction"}}');var s=i(4848),t=i(8453);const r={sidebar_position:6},a="Digital Twin Environments: Gazebo Usage and Best Practices",l={},c=[{value:"Introduction",id:"introduction",level:2},{value:"Gazebo Architecture and Components",id:"gazebo-architecture-and-components",level:2},{value:"World Files",id:"world-files",level:3},{value:"Model Files",id:"model-files",level:3},{value:"Creating Realistic Environments",id:"creating-realistic-environments",level:2},{value:"Indoor Environments",id:"indoor-environments",level:3},{value:"Outdoor Environments",id:"outdoor-environments",level:3},{value:"Advanced Environment Features",id:"advanced-environment-features",level:2},{value:"Dynamic Environments",id:"dynamic-environments",level:3},{value:"Sensor-Optimized Environments",id:"sensor-optimized-environments",level:3},{value:"Environment Configuration Best Practices",id:"environment-configuration-best-practices",level:2},{value:"Performance Optimization",id:"performance-optimization",level:3},{value:"Realism vs. Performance",id:"realism-vs-performance",level:3},{value:"Environment Validation",id:"environment-validation",level:3},{value:"Integration with ROS 2",id:"integration-with-ros-2",level:2},{value:"Launching Environments with ROS 2",id:"launching-environments-with-ros-2",level:3},{value:"Spawning Models in Runtime",id:"spawning-models-in-runtime",level:3},{value:"Multi-Robot Environments",id:"multi-robot-environments",level:2},{value:"Environment Management Scripts",id:"environment-management-scripts",level:2},{value:"Bash Script for Environment Setup",id:"bash-script-for-environment-setup",level:3},{value:"Troubleshooting Common Issues",id:"troubleshooting-common-issues",level:2},{value:"1. Performance Issues",id:"1-performance-issues",level:3},{value:"2. Visual Artifacts",id:"2-visual-artifacts",level:3},{value:"3. Physics Instability",id:"3-physics-instability",level:3},{value:"Best Practices Summary",id:"best-practices-summary",level:2},{value:"Summary",id:"summary",level:2}];function m(n){const e={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.header,{children:(0,s.jsx)(e.h1,{id:"digital-twin-environments-gazebo-usage-and-best-practices",children:"Digital Twin Environments: Gazebo Usage and Best Practices"})}),"\n",(0,s.jsx)(e.h2,{id:"introduction",children:"Introduction"}),"\n",(0,s.jsx)(e.p,{children:"Digital twin environments provide virtual replicas of physical spaces where robots can be tested, trained, and validated before deployment in the real world. Gazebo is one of the most widely used simulation environments in robotics, offering realistic physics simulation, sensor modeling, and visualization capabilities. This guide covers how to create, configure, and use digital twin environments effectively in Gazebo."}),"\n",(0,s.jsx)(e.h2,{id:"gazebo-architecture-and-components",children:"Gazebo Architecture and Components"}),"\n",(0,s.jsx)(e.h3,{id:"world-files",children:"World Files"}),"\n",(0,s.jsx)(e.p,{children:"Gazebo worlds are defined using SDF (Simulation Description Format) files that specify the environment, physics parameters, lighting, and initial conditions."}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-xml",children:'<?xml version="1.0" ?>\n<sdf version="1.6">\n  <world name="my_world">\n    \x3c!-- Physics engine configuration --\x3e\n    <physics type="ode">\n      <max_step_size>0.001</max_step_size>\n      <real_time_factor>1</real_time_factor>\n      <gravity>0 0 -9.8</gravity>\n    </physics>\n\n    \x3c!-- Lighting --\x3e\n    <light name="sun" type="directional">\n      <cast_shadows>true</cast_shadows>\n      <pose>0 0 10 0 0 0</pose>\n      <diffuse>0.8 0.8 0.8 1</diffuse>\n      <specular>0.2 0.2 0.2 1</specular>\n      <attenuation>\n        <range>1000</range>\n        <constant>0.9</constant>\n        <linear>0.01</linear>\n        <quadratic>0.001</quadratic>\n      </attenuation>\n      <direction>-0.5 0.1 -0.9</direction>\n    </light>\n\n    \x3c!-- Ground plane --\x3e\n    <include>\n      <uri>model://ground_plane</uri>\n    </include>\n\n    \x3c!-- Sky --\x3e\n    <scene>\n      <ambient>0.4 0.4 0.4 1</ambient>\n      <background>0.7 0.7 0.7 1</background>\n      <shadows>true</shadows>\n    </scene>\n\n    \x3c!-- Models in the environment --\x3e\n    <model name="my_robot">\n      \x3c!-- Robot model definition --\x3e\n    </model>\n  </world>\n</sdf>\n'})}),"\n",(0,s.jsx)(e.h3,{id:"model-files",children:"Model Files"}),"\n",(0,s.jsx)(e.p,{children:"Models represent objects in the simulation environment. They can be robots, furniture, obstacles, or any other physical entity."}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-xml",children:'<?xml version="1.0" ?>\n<sdf version="1.6">\n  <model name="simple_box">\n    <pose>0 0 0.5 0 0 0</pose>\n    <link name="box_link">\n      <inertial>\n        <mass>1.0</mass>\n        <inertia>\n          <ixx>0.1667</ixx>\n          <ixy>0</ixy>\n          <ixz>0</ixz>\n          <iyy>0.1667</iyy>\n          <iyz>0</iyz>\n          <izz>0.1667</izz>\n        </inertia>\n      </inertial>\n      <visual name="visual">\n        <geometry>\n          <box>\n            <size>1 1 1</size>\n          </box>\n        </geometry>\n        <material>\n          <ambient>0.5 0 0 1</ambient>\n          <diffuse>1 0 0 1</diffuse>\n          <specular>1 0 0 1</specular>\n        </material>\n      </visual>\n      <collision name="collision">\n        <geometry>\n          <box>\n            <size>1 1 1</size>\n          </box>\n        </geometry>\n      </collision>\n    </link>\n  </model>\n</sdf>\n'})}),"\n",(0,s.jsx)(e.h2,{id:"creating-realistic-environments",children:"Creating Realistic Environments"}),"\n",(0,s.jsx)(e.h3,{id:"indoor-environments",children:"Indoor Environments"}),"\n",(0,s.jsx)(e.p,{children:"For indoor robotics applications, creating realistic indoor environments is crucial:"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-xml",children:'\x3c!-- Indoor world with walls, furniture, and lighting --\x3e\n<sdf version="1.6">\n  <world name="indoor_office">\n    <physics type="ode">\n      <max_step_size>0.001</max_step_size>\n      <real_time_factor>1.0</real_time_factor>\n      <gravity>0 0 -9.8</gravity>\n    </physics>\n\n    \x3c!-- Ambient lighting --\x3e\n    <light name="ambient_light" type="directional">\n      <pose>0 0 10 0 0 0</pose>\n      <diffuse>0.5 0.5 0.5 1</diffuse>\n      <specular>0.1 0.1 0.1 1</specular>\n      <direction>-0.3 0.1 -0.9</direction>\n    </light>\n\n    \x3c!-- Artificial lighting --\x3e\n    <light name="ceiling_light1" type="point">\n      <pose>0 0 2.5 0 0 0</pose>\n      <diffuse>0.8 0.8 0.8 1</diffuse>\n      <specular>0.2 0.2 0.2 1</specular>\n      <attenuation>\n        <range>10</range>\n        <constant>0.5</constant>\n        <linear>0.1</linear>\n        <quadratic>0.01</quadratic>\n      </attenuation>\n    </light>\n\n    \x3c!-- Floor --\x3e\n    <include>\n      <uri>model://ground_plane</uri>\n    </include>\n\n    \x3c!-- Walls --\x3e\n    <model name="wall_1">\n      <pose>5 0 1.5 0 0 0</pose>\n      <link name="wall_link">\n        <visual name="visual">\n          <geometry><box><size>0.2 10 3</size></box></geometry>\n          <material><diffuse>0.8 0.8 0.8 1</diffuse></material>\n        </visual>\n        <collision name="collision">\n          <geometry><box><size>0.2 10 3</size></box></geometry>\n        </collision>\n      </link>\n    </model>\n\n    \x3c!-- Furniture --\x3e\n    <include>\n      <uri>model://table</uri>\n      <pose>2 2 0 0 0 0</pose>\n    </include>\n    <include>\n      <uri>model://chair</uri>\n      <pose>2.5 1.5 0 0 0 1.57</pose>\n    </include>\n\n    \x3c!-- Objects for manipulation --\x3e\n    <model name="coffee_cup">\n      <pose>2.2 2.2 0.8 0 0 0</pose>\n      <link name="cup_link">\n        <visual name="visual">\n          <geometry><cylinder><radius>0.04</radius><length>0.1</length></cylinder></geometry>\n          <material><diffuse>0.2 0.6 0.8 1</diffuse></material>\n        </visual>\n        <collision name="collision">\n          <geometry><cylinder><radius>0.04</radius><length>0.1</length></cylinder></geometry>\n        </collision>\n        <inertial>\n          <mass>0.2</mass>\n          <inertia><ixx>0.0001</ixx><iyy>0.0001</iyy><izz>0.00005</izz></inertia>\n        </inertial>\n      </link>\n    </model>\n  </world>\n</sdf>\n'})}),"\n",(0,s.jsx)(e.h3,{id:"outdoor-environments",children:"Outdoor Environments"}),"\n",(0,s.jsx)(e.p,{children:"Outdoor environments require different considerations for terrain, weather, and larger-scale features:"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-xml",children:'\x3c!-- Outdoor world with terrain --\x3e\n<sdf version="1.6">\n  <world name="outdoor_park">\n    <physics type="ode">\n      <max_step_size>0.001</max_step_size>\n      <real_time_factor>1.0</real_time_factor>\n      <gravity>0 0 -9.8</gravity>\n    </physics>\n\n    \x3c!-- Sun lighting --\x3e\n    <light name="sun" type="directional">\n      <pose>0 0 10 0 0 0</pose>\n      <diffuse>1 1 1 1</diffuse>\n      <specular>0.5 0.5 0.5 1</specular>\n      <direction>-0.5 0.1 -0.9</direction>\n    </light>\n\n    \x3c!-- Terrain --\x3e\n    <model name="terrain">\n      <link name="terrain_link">\n        <visual name="visual">\n          <geometry>\n            <heightmap>\n              <uri>file://terrain_heightmap.png</uri>\n              <size>100 100 20</size>\n              <pos>0 0 0</pos>\n            </heightmap>\n          </geometry>\n        </visual>\n        <collision name="collision">\n          <geometry>\n            <heightmap>\n              <uri>file://terrain_heightmap.png</uri>\n              <size>100 100 20</size>\n            </heightmap>\n          </geometry>\n        </collision>\n      </link>\n    </model>\n\n    \x3c!-- Trees --\x3e\n    <include>\n      <uri>model://tree</uri>\n      <pose>-5 -5 0 0 0 0</pose>\n    </include>\n    <include>\n      <uri>model://tree</uri>\n      <pose>8 3 0 0 0 0.5</pose>\n    </include>\n\n    \x3c!-- Path for navigation --\x3e\n    <model name="path_segment_1">\n      <pose>0 0 0.01 0 0 0</pose>\n      <link name="path_link">\n        <visual name="visual">\n          <geometry><box><size>20 2 0.02</size></box></geometry>\n          <material><diffuse>0.4 0.4 0.4 1</diffuse></material>\n        </visual>\n        <collision name="collision">\n          <geometry><box><size>20 2 0.02</size></box></geometry>\n        </collision>\n      </link>\n    </model>\n  </world>\n</sdf>\n'})}),"\n",(0,s.jsx)(e.h2,{id:"advanced-environment-features",children:"Advanced Environment Features"}),"\n",(0,s.jsx)(e.h3,{id:"dynamic-environments",children:"Dynamic Environments"}),"\n",(0,s.jsx)(e.p,{children:"Creating environments that can change during simulation:"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-xml",children:'\x3c!-- Moving obstacle --\x3e\n<model name="moving_obstacle">\n  <link name="obstacle_link">\n    <pose>0 0 0.5 0 0 0</pose>\n    <visual name="visual">\n      <geometry><sphere><radius>0.2</radius></sphere></geometry>\n      <material><diffuse>1 0 0 1</diffuse></material>\n    </visual>\n    <collision name="collision">\n      <geometry><sphere><radius>0.2</radius></sphere></geometry>\n    </collision>\n    <inertial>\n      <mass>1.0</mass>\n      <inertia><ixx>0.008</ixx><iyy>0.008</iyy><izz>0.008</izz></inertia>\n    </inertial>\n  </link>\n  \x3c!-- Plugin to move the obstacle in a circular path --\x3e\n  <plugin name="model_pusher" filename="libgazebo_ros_p3d.so">\n    <alwaysOn>true</alwaysOn>\n    <updateRate>100</updateRate>\n    <bodyName>obstacle_link</bodyName>\n    <topicName>obstacle_pose</topicName>\n    <gaussianNoise>0.0</gaussianNoise>\n    <frameName>world</frameName>\n  </plugin>\n</model>\n'})}),"\n",(0,s.jsx)(e.h3,{id:"sensor-optimized-environments",children:"Sensor-Optimized Environments"}),"\n",(0,s.jsx)(e.p,{children:"Environments designed to test specific sensor capabilities:"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-xml",children:'\x3c!-- Environment with various textures for computer vision --\x3e\n<world name="vision_test_world">\n  <physics type="ode">\n    <max_step_size>0.001</max_step_size>\n    <real_time_factor>1.0</real_time_factor>\n    <gravity>0 0 -9.8</gravity>\n  </physics>\n\n  \x3c!-- Different materials for texture recognition --\x3e\n  <model name="wood_block">\n    <pose>-2 0 0.5 0 0 0</pose>\n    <link name="link">\n      <visual name="visual">\n        <geometry><box><size>1 1 1</size></box></geometry>\n        <material>\n          <script>\n            <uri>file://media/materials/scripts/gazebo.material</uri>\n            <name>Gazebo/Wood</name>\n          <\/script>\n        </material>\n      </visual>\n      <collision name="collision"><geometry><box><size>1 1 1</size></box></geometry></collision>\n    </link>\n  </model>\n\n  <model name="metal_cylinder">\n    <pose>0 0 0.5 0 0 0</pose>\n    <link name="link">\n      <visual name="visual">\n        <geometry><cylinder><radius>0.3</radius><length>1.0</length></cylinder></geometry>\n        <material>\n          <script>\n            <uri>file://media/materials/scripts/gazebo.material</uri>\n            <name>Gazebo/Chrome</name>\n          <\/script>\n        </material>\n      </visual>\n      <collision name="collision"><geometry><cylinder><radius>0.3</radius><length>1.0</length></cylinder></geometry></collision>\n    </link>\n  </model>\n\n  <model name="textured_box">\n    <pose>2 0 0.5 0 0 0</pose>\n    <link name="link">\n      <visual name="visual">\n        <geometry><box><size>1 1 1</size></box></geometry>\n        <material>\n          <script>\n            <uri>file://media/materials/scripts/gazebo.material</uri>\n            <name>Gazebo/Red</name>\n          <\/script>\n        </material>\n      </visual>\n      <collision name="collision"><geometry><box><size>1 1 1</size></box></geometry></collision>\n    </link>\n  </model>\n</world>\n'})}),"\n",(0,s.jsx)(e.h2,{id:"environment-configuration-best-practices",children:"Environment Configuration Best Practices"}),"\n",(0,s.jsx)(e.h3,{id:"performance-optimization",children:"Performance Optimization"}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Simplify Collision Geometries"}),": Use simpler shapes for collision detection than visual models"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Limit Model Complexity"}),": Balance detail with simulation performance"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Use Appropriate Physics Parameters"}),": Adjust time steps and solver parameters for your needs"]}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"realism-vs-performance",children:"Realism vs. Performance"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-xml",children:'\x3c!-- High-performance collision geometry with detailed visual --\x3e\n<model name="performance_optimized_model">\n  <link name="link">\n    \x3c!-- Simple collision box --\x3e\n    <collision name="collision">\n      <geometry><box><size>1 0.5 0.8</size></box></geometry>\n    </collision>\n\n    \x3c!-- Detailed visual mesh --\x3e\n    <visual name="visual">\n      <geometry>\n        <mesh><uri>model://my_robot/meshes/detailed_model.dae</uri></mesh>\n      </geometry>\n    </visual>\n  </link>\n</model>\n'})}),"\n",(0,s.jsx)(e.h3,{id:"environment-validation",children:"Environment Validation"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-xml",children:'\x3c!-- Validation world with known measurements --\x3e\n<world name="validation_world">\n  \x3c!-- Known distance markers --\x3e\n  <model name="distance_marker_1m">\n    <pose>0 0 0.05 0 0 0</pose>\n    <link name="link">\n      <visual name="visual">\n        <geometry><box><size>1 0.1 0.1</size></box></geometry>\n        <material><diffuse>1 1 1 1</diffuse></material>\n      </visual>\n      <collision name="collision"><geometry><box><size>1 0.1 0.1</size></box></geometry></collision>\n    </link>\n  </model>\n\n  <model name="distance_marker_2m">\n    <pose>2 0 0.05 0 0 0</pose>\n    <link name="link">\n      <visual name="visual">\n        <geometry><box><size>1 0.1 0.1</size></box></geometry>\n        <material><diffuse>1 1 1 1</diffuse></material>\n      </visual>\n      <collision name="collision"><geometry><box><size>1 0.1 0.1</size></box></geometry></collision>\n    </link>\n  </model>\n</world>\n'})}),"\n",(0,s.jsx)(e.h2,{id:"integration-with-ros-2",children:"Integration with ROS 2"}),"\n",(0,s.jsx)(e.h3,{id:"launching-environments-with-ros-2",children:"Launching Environments with ROS 2"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-python",children:"# Python launch file for Gazebo environment\nfrom launch import LaunchDescription\nfrom launch.actions import IncludeLaunchDescription\nfrom launch.launch_description_sources import PythonLaunchDescriptionSource\nfrom launch.substitutions import PathJoinSubstitution\nfrom launch_ros.substitutions import FindPackageShare\n\ndef generate_launch_description():\n    # Path to world file\n    world_file = PathJoinSubstitution([\n        FindPackageShare('my_robot_gazebo'),\n        'worlds',\n        'indoor_office.world'\n    ])\n\n    # Include Gazebo launch\n    gazebo_launch = IncludeLaunchDescription(\n        PythonLaunchDescriptionSource([\n            PathJoinSubstitution([\n                FindPackageShare('gazebo_ros'),\n                'launch',\n                'gazebo.launch.py'\n            ])\n        ]),\n        launch_arguments={\n            'world': world_file,\n            'verbose': 'true'\n        }.items()\n    )\n\n    return LaunchDescription([\n        gazebo_launch,\n    ])\n"})}),"\n",(0,s.jsx)(e.h3,{id:"spawning-models-in-runtime",children:"Spawning Models in Runtime"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-python",children:"import rclpy\nfrom rclpy.node import Node\nfrom gazebo_msgs.srv import SpawnEntity\nfrom geometry_msgs.msg import Pose\nimport os\n\nclass ModelSpawner(Node):\n\n    def __init__(self):\n        super().__init__('model_spawner')\n\n        # Create client for spawning entities\n        self.spawn_client = self.create_client(SpawnEntity, '/spawn_entity')\n\n        # Wait for service to be available\n        while not self.spawn_client.wait_for_service(timeout_sec=1.0):\n            self.get_logger().info('Spawn service not available, waiting...')\n\n        # Spawn a model\n        self.spawn_model()\n\n    def spawn_model(self):\n        # Read model file\n        model_path = os.path.join(\n            os.path.expanduser('~'),\n            'models',\n            'simple_box',\n            'model.sdf'\n        )\n\n        with open(model_path, 'r') as model_file:\n            model_xml = model_file.read()\n\n        # Create request\n        request = SpawnEntity.Request()\n        request.name = 'dynamic_box'\n        request.xml = model_xml\n        request.robot_namespace = ''\n\n        # Set initial pose\n        initial_pose = Pose()\n        initial_pose.position.x = 1.0\n        initial_pose.position.y = 1.0\n        initial_pose.position.z = 0.5\n        request.initial_pose = initial_pose\n\n        # Send request\n        future = self.spawn_client.call_async(request)\n        future.add_done_callback(self.spawn_response_callback)\n\n    def spawn_response_callback(self, future):\n        try:\n            response = future.result()\n            if response.success:\n                self.get_logger().info('Model spawned successfully')\n            else:\n                self.get_logger().error(f'Failed to spawn model: {response.status_message}')\n        except Exception as e:\n            self.get_logger().error(f'Service call failed: {e}')\n"})}),"\n",(0,s.jsx)(e.h2,{id:"multi-robot-environments",children:"Multi-Robot Environments"}),"\n",(0,s.jsx)(e.p,{children:"Creating environments for testing multi-robot systems:"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-xml",children:'\x3c!-- Multi-robot world --\x3e\n<sdf version="1.6">\n  <world name="multi_robot_world">\n    <physics type="ode">\n      <max_step_size>0.001</max_step_size>\n      <real_time_factor>1.0</real_time_factor>\n      <gravity>0 0 -9.8</gravity>\n    </physics>\n\n    \x3c!-- Common environment elements --\x3e\n    <include><uri>model://ground_plane</uri></include>\n\n    \x3c!-- Robot 1 --\x3e\n    <include>\n      <uri>model://my_robot</uri>\n      <name>robot1</name>\n      <pose>-2 0 0 0 0 0</pose>\n    </include>\n\n    \x3c!-- Robot 2 --\x3e\n    <include>\n      <uri>model://my_robot</uri>\n      <name>robot2</name>\n      <pose>2 0 0 0 0 0</pose>\n    </include>\n\n    \x3c!-- Static obstacles --\x3e\n    <model name="obstacle_1">\n      <pose>0 2 0.5 0 0 0</pose>\n      <link name="link">\n        <visual name="visual"><geometry><box><size>1 1 1</size></box></geometry></visual>\n        <collision name="collision"><geometry><box><size>1 1 1</size></box></geometry></collision>\n      </link>\n    </model>\n  </world>\n</sdf>\n'})}),"\n",(0,s.jsx)(e.h2,{id:"environment-management-scripts",children:"Environment Management Scripts"}),"\n",(0,s.jsx)(e.h3,{id:"bash-script-for-environment-setup",children:"Bash Script for Environment Setup"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:'#!/bin/bash\n\n# Script to set up and launch Gazebo environment\n\n# Set gazebo model path\nexport GAZEBO_MODEL_PATH=$GAZEBO_MODEL_PATH:$(pwd)/models\n\n# Set gazebo resource path\nexport GAZEBO_RESOURCE_PATH=$GAZEBO_RESOURCE_PATH:$(pwd)/worlds\n\n# Launch gazebo with specific world\ngzserver --verbose worlds/indoor_office.world &\n\n# Wait for server to start\nsleep 5\n\n# Launch client\ngzclient &\n\necho "Gazebo environment launched with indoor_office.world"\n'})}),"\n",(0,s.jsx)(e.h2,{id:"troubleshooting-common-issues",children:"Troubleshooting Common Issues"}),"\n",(0,s.jsx)(e.h3,{id:"1-performance-issues",children:"1. Performance Issues"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Problem"}),": Slow simulation"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Solution"}),": Reduce physics update rate, simplify collision geometries, limit model complexity"]}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"2-visual-artifacts",children:"2. Visual Artifacts"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Problem"}),": Objects appear to float or sink"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Solution"}),": Check collision geometry alignment with visual geometry"]}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"3-physics-instability",children:"3. Physics Instability"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Problem"}),": Objects vibrate or explode"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Solution"}),": Adjust ERP/CFM parameters, check mass/inertia values"]}),"\n"]}),"\n",(0,s.jsx)(e.h2,{id:"best-practices-summary",children:"Best Practices Summary"}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Start Simple"}),": Begin with basic environments and add complexity gradually"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Validate Against Reality"}),": Compare simulation results with real-world measurements"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Optimize for Performance"}),": Balance realism with simulation speed"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Document Environments"}),": Keep track of environment parameters and configurations"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Test Edge Cases"}),": Include challenging scenarios in your environments"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Use Modular Design"}),": Create reusable components for different environments"]}),"\n"]}),"\n",(0,s.jsx)(e.h2,{id:"summary",children:"Summary"}),"\n",(0,s.jsx)(e.p,{children:"Creating effective digital twin environments in Gazebo requires careful consideration of physics, visuals, and performance. By following the patterns and best practices outlined in this guide, you can create realistic, efficient, and useful simulation environments for testing and developing Physical AI systems. The examples provided demonstrate various approaches to environment design, from simple indoor spaces to complex multi-robot scenarios."})]})}function d(n={}){const{wrapper:e}={...(0,t.R)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(m,{...n})}):m(n)}},8453:(n,e,i)=>{i.d(e,{R:()=>r,x:()=>a});var o=i(6540);const s={},t=o.createContext(s);function r(n){const e=o.useContext(t);return o.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function a(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:r(n.components),o.createElement(t.Provider,{value:e},n.children)}}}]);